<!DOCTYPE html>
<html style="width:100%;height:100%;background-color:black;">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta name="description" content="HZ OneBlock Potato Client" />
  <meta name="keywords" content="eaglercraft, minecraft, oneblock, 1.8, spigot, optimized" />
  <title>HZ MC</title>
  <link type="image/png" rel="shortcut icon" href="favicon.png" />

  <!-- Define options BEFORE classes.js -->
  <script type="text/javascript">
    "use strict";
    window.eaglercraftXOpts = {
      demoMode: false,
      container: "game_frame",
      assetsURI: "assets.epk",
      localesURI: "lang/",
      worldsDB: "worlds",
      logInvalidCerts: false,
      crashOnUncaughtExceptions: false,
      maxParticles: 100,
      disableInstancedRendering: true,
      smoothGui: false,
      renderScale: 0.5,
      servers: [],
      relays: [
        { addr: "wss://relay.deev.is/", comment: "relay #1", primary: true },
        { addr: "wss://relay.lax1dude.net/", comment: "relay #2" },
        { addr: "wss://relay.shhnowisnottheti.me/", comment: "relay #3" }
      ]
    };
  </script>

  <!-- Load the actual game -->
  <script type="text/javascript" src="classes.js"></script>
</head>
<body style="margin:0;width:100%;height:100%;overflow:hidden;background-color:black;" id="game_frame">
  <script type="text/javascript">
    "use strict";
    window.addEventListener("load", function() {
      if (typeof main === "function") {
        main();

        // potato mode patch
        let patchInterval = setInterval(() => {
          if (window.EaglercraftX && window.EaglercraftX.settings) {
            let s = window.EaglercraftX.settings;
            s.useFXAA = false;
            s.dynamicLights = false;
            s.renderDistance = 2;
            s.smoothLighting = false;
            s.clouds = false;
            s.particles = "minimal";
            s.graphics = "fast";
            s.entityShadows = false;
            s.mipmapLevels = 0;
            s.guiScale = 1;
            clearInterval(patchInterval);
            console.log("⚡ Potato mode applied: max FPS");
          }
        }, 2000);

        // turbo loop (disable vsync)
        setTimeout(() => {
          if (window.EaglercraftX && window.EaglercraftX.mainLoop) {
            let oldLoop = window.EaglercraftX.mainLoop;
            function turboLoop() {
              oldLoop();
              setTimeout(turboLoop, 0);
            }
            turboLoop();
            console.log("⚡ Turbo loop enabled");
          }
        }, 3000);
      } else {
        console.error("❌ main() not found in classes.js!");
      }
    });
  </script>
</body>
</html>
